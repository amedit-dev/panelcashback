$((function() {
    "use strict";
    var e = $(".datatables-basic"),

        path = $(location).attr('path'),
        n = "addtransazioni",
        a = $(".dt-date");


    if ("laravel" === $("body").attr("data-framework") && (r = $("body").attr("data-asset-path")), e.length) {
        var o = e.DataTable({
            ajax: "/api" + window.location.pathname,
            columns: [{
                data: "responsive_id"
            }, {
                data: "id"
            }, {
                data: "id"
            }, {
                data: "created_at"
            }, {
                data: "position"
            }, {
                data: "transactions"
            }, {
                data: "nickname"
            }],
            columnDefs: [{
                className: "control",
                orderable: !1,
                responsivePriority: 2,
                targets: 0
            }, {
                targets: 1,
                orderable: !1,
                responsivePriority: 3,
                render: function(e, a, t, s) {
                    return '<div class="custom-control custom-checkbox"> <input class="custom-control-input dt-checkboxes" type="checkbox" value="" id="checkbox' + e + '" /><label class="custom-control-label" for="checkbox' + e + '"></label></div>'
                },
                checkboxes: {
                    selectAllRender: '<div class="custom-control custom-checkbox"> <input class="custom-control-input" type="checkbox" value="" id="checkboxSelectAll" /><label class="custom-control-label" for="checkboxSelectAll"></label></div>'
                }
            }, {
                targets: 2,
                visible: !1
            }, {
                responsivePriority: 1,
                targets: 4
            }],
            order: [
                [4, "asc"]
            ],
            dom: '<"card-header border-bottom p-1"<"head-label"><"dt-action-buttons text-right"B>><"d-flex justify-content-between align-items-center mx-0 row"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6"f>>t<"d-flex justify-content-between mx-0 row"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>',
            displayLength: 30,
            lengthMenu: [7, 10, 25, 50, 75, 100],
            buttons: [{
                extend: "collection",
                className: "btn btn-outline-secondary dropdown-toggle mr-2",
                text: feather.icons.share.toSvg({
                    class: "font-small-4 mr-50"
                }) + "Export",
                buttons: [{
                    extend: "print",
                    text: feather.icons.printer.toSvg({
                        class: "font-small-4 mr-50"
                    }) + "Print",
                    className: "dropdown-item",
                    exportOptions: {
                        columns: [3, 4, 5, 6]
                    }
                }, {
                    extend: "csv",
                    text: feather.icons["file-text"].toSvg({
                        class: "font-small-4 mr-50"
                    }) + "Csv",
                    className: "dropdown-item",
                    exportOptions: {
                        columns: [3, 4, 5, 6]
                    }
                }, {
                    extend: "excel",
                    text: feather.icons.file.toSvg({
                        class: "font-small-4 mr-50"
                    }) + "Excel",
                    className: "dropdown-item",
                    exportOptions: {
                        columns: [3, 4, 5, 6]
                    }
                }, {
                    extend: "pdf",
                    text: feather.icons.clipboard.toSvg({
                        class: "font-small-4 mr-50"
                    }) + "Pdf",
                    className: "dropdown-item",
                    exportOptions: {
                        columns: [3, 4, 5, 6]
                    }
                }, {
                    extend: "copy",
                    text: feather.icons.copy.toSvg({
                        class: "font-small-4 mr-50"
                    }) + "Copy",
                    className: "dropdown-item",
                    exportOptions: {
                        columns: [3, 4, 5, 6]
                    }
                }],
                init: function(e, a, t) {
                    $(a).removeClass("btn-secondary"), $(a).parent().removeClass("btn-group"), setTimeout((function() {
                        $(a).closest(".dt-buttons").removeClass("btn-group").addClass("d-inline-flex")
                    }), 50)
                },

            },{
                text: "Aggiungi",
                className: "btn btn-primary btn-add-record ml-2",
                action: function(e, a, t) {
                    window.location = n
                }
            }],

            language: {
                paginate: {
                    previous: "&nbsp;",
                    next: "&nbsp;"
                }
            }
        });
        $("div.head-label").html('<h6 class="mb-0">Lista Transazioni</h6>')
    }

    a.length && a.flatpickr({
        enableTime: false,
        monthSelectorType: "static",
        dateFormat: "d/m/Y",
        onChange: function (selectedDates, dateStr, instance) {
            $('#form').submit();
        }
    });




}));

